# –°–î–≠–ö –î–æ—Å—Ç–∞–≤–∫–∞ - –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫

## üö® –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 1: SQL –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω–¥–µ–∫—Å–æ–≤
**–û—à–∏–±–∫–∞:**
```sql
CREATE INDEX IF NOT EXISTS idx_cache_key_expiry ON wp_cdek_cache (cache_key, expiry_time);
```
**–ü—Ä–∏—á–∏–Ω–∞:** –°–∏–Ω—Ç–∞–∫—Å–∏—Å `IF NOT EXISTS` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö MySQL

**‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```php
// –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
$existing_indexes = $wpdb->get_results("SHOW INDEX FROM $table_name");
$index_names = array_column($existing_indexes, 'Key_name');

if (!in_array('idx_cache_key_expiry', $index_names)) {
    $wpdb->query("CREATE INDEX idx_cache_key_expiry ON $table_name (cache_key, expiry_time);");
}

if (!in_array('idx_expiry_hit', $index_names)) {
    $wpdb->query("CREATE INDEX idx_expiry_hit ON $table_name (expiry_time, hit_count);");
}
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 2: PHP —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ XML –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
**–û—à–∏–±–∫–∞:**
```php
<?xml version="1.0" encoding="UTF-8"?> // –í–Ω—É—Ç—Ä–∏ PHP –±–ª–æ–∫–∞
```
**–ü—Ä–∏—á–∏–Ω–∞:** XML –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å PHP –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–º —Ç–µ–≥–æ–º

**‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```php
private function generate_1c_xml($order, $formatted_info, $shipping_cost) {
    $xml_content = '<?xml version="1.0" encoding="UTF-8"?>' . "\n";
    $xml_content .= '<–î–æ–∫—É–º–µ–Ω—Ç>' . "\n";
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π XML —á–µ—Ä–µ–∑ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—é —Å—Ç—Ä–æ–∫
    return $xml_content;
}
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 3: JavaScript –æ—à–∏–±–∫–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
**–û—à–∏–±–∫–∞:**
```javascript
const debouncer = new SmartDebouncer(); // –û–±—ä—è–≤–ª–µ–Ω–æ –¥–≤–∞–∂–¥—ã
```
**–ü—Ä–∏—á–∏–Ω–∞:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

**‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–ª–∞—Å—Å—ã `DOMBatcher`, `PriceFormatter`, `SmartAddressSearch`
- –û—Å—Ç–∞–≤–ª–µ–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å MySQL
- –£–±—Ä–∞–Ω—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ SQL –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å MySQL 5.6+

### JavaScript –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**
- ‚ùå MySQL —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ ‚Üí ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚ùå PHP —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ ‚Üí ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞  
- ‚ùå JavaScript SyntaxError ‚Üí ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

**–ü–ª–∞–≥–∏–Ω –≥–æ—Ç–æ–≤ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### SQL
```bash
# –û—à–∏–±–æ–∫ SQL –±–æ–ª—å—à–µ –Ω–µ—Ç
grep -n "IF NOT EXISTS" cdek-delivery-plugin.php
# (–ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç - –æ—à–∏–±–æ—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —É–¥–∞–ª–µ–Ω)
```

### PHP
```bash  
# XML –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å –≤ —Å—Ç—Ä–æ–∫–µ
grep -n "xml version" cdek-order-sender.php
# 581: $xml_content = '<?xml version="1.0" encoding="UTF-8"?>' . "\n";
```

### JavaScript
```bash
# –¢–æ–ª—å–∫–æ –æ–¥–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ debouncer
grep -n "const.*debouncer" cdek-delivery.js  
# 756: const debouncer = new SmartDebouncer();
```

---
*–í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å –≤—ã—Å–æ—á–∞–π—à–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º –∫–æ–¥–∞* ‚ú®