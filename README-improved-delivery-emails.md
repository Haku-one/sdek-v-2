# –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –≤ `theme-functions-cdek.php` —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å–µ—Ö —Ç—Ä–µ—Ö —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö.

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–æ—Å—Ç–∞–≤–∫–∏

### 1. –î–æ—Å—Ç–∞–≤–∫–∞ –°–î–≠–ö
**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –í—ã–±—Ä–∞–Ω —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏ —á–µ—Ä–µ–∑ –°–î–≠–ö
- –ï—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø—É–Ω–∫—Ç–µ –≤—ã–¥–∞—á–∏ (`_cdek_point_code` –∏ `_cdek_point_data`)

**–ß—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ email:**
```
üì¶ –î–æ—Å—Ç–∞–≤–∫–∞ –°–î–≠–ö
–ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏: –°–∞—Ä–∞—Ç–æ–≤, —É–ª. –∏–º–µ–Ω–∏ –ì.–ö. –û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ
–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏: 157 —Ä—É–±.
–ê–¥—Ä–µ—Å: 410015, –†–æ—Å—Å–∏—è, –°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –°–∞—Ä–∞—Ç–æ–≤, —É–ª. –∏–º–µ–Ω–∏ –ì.–ö. –û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ, 6–ê
–ö–æ–¥ –ø—É–Ω–∫—Ç–∞: SAR12
```

### 2. –°–∞–º–æ–≤—ã–≤–æ–∑
**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –í—ã–±—Ä–∞–Ω —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏ "–°–∞–º–æ–≤—ã–≤–æ–∑" 
- –í –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –µ—Å—Ç—å —Å–ª–æ–≤–æ "—Å–∞–º–æ–≤—ã–≤–æ–∑" –∏–ª–∏ "pickup"

**–ß—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ email:**
```
üè™ –°–∞–º–æ–≤—ã–≤–æ–∑
–ê–¥—Ä–µ—Å: –≥.–°–∞—Ä–∞—Ç–æ–≤, —É–ª. –û—Å–∏–ø–æ–≤–∞, –¥. 18–∞
–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: –ø–Ω-–ø—Ç 9:00-18:00, —Å–± 10:00-16:00
```

### 3. –û–±—Å—É–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –ö–ª–∏–µ–Ω—Ç –≤—ã–±—Ä–∞–ª –æ–ø—Ü–∏—é "–û–±—Å—É–¥–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º"
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –º–µ—Ç–∞-–ø–æ–ª–µ `_discuss_delivery_selected = '–î–∞'`

**–ß—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ email:**

**–î–ª—è –∫–ª–∏–µ–Ω—Ç–∞:**
```
üó£Ô∏è –û–±—Å—É–∂–¥–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –¥–æ—Å—Ç–∞–≤–∫–∏
–ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏
–û–∂–∏–¥–∞–π—Ç–µ –∑–≤–æ–Ω–∫–∞ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (–ø–Ω-–ø—Ç: 9:00-18:00)
```

**–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**
```
üó£Ô∏è –û–ë–°–£–î–ò–¢–¨ –î–û–°–¢–ê–í–ö–£ –° –ú–ï–ù–ï–î–ñ–ï–†–û–ú
‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢–°–Ø –î–ï–ô–°–¢–í–ò–ï: –°–≤—è–∑–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º
–ß—Ç–æ –æ–±—Å—É–¥–∏—Ç—å: –ê–¥—Ä–µ—Å, –≤—Ä–µ–º—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –∏–∑ `theme-functions-cdek.php` –≤ —Ñ–∞–π–ª `functions.php` –≤–∞—à–µ–π —Ç–µ–º—ã

2. –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–æ—Å—Ç–∞–≤–∫–∏
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–∞-–ø–æ–ª—è –≤ –∑–∞–∫–∞–∑–µ
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ email
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ –∑–∞–∫–∞–∑–∞

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –¥–æ—Å—Ç–∞–≤–∫–∏

–§—É–Ω–∫—Ü–∏—è `cdek_determine_delivery_type()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

1. **–ü—Ä—è–º—ã–µ –º–µ—Ç–∞-–ø–æ–ª—è –∑–∞–∫–∞–∑–∞:**
   - `_discuss_delivery_selected = '–î–∞'` ‚Üí —Ç–∏–ø 'discuss'
   - `_pickup_delivery_selected = '–î–∞'` ‚Üí —Ç–∏–ø 'pickup'

2. **–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏:**
   - –°–æ–¥–µ—Ä–∂–∏—Ç "—Å–∞–º–æ–≤—ã–≤–æ–∑", "pickup" ‚Üí —Ç–∏–ø 'pickup'
   - –°–æ–¥–µ—Ä–∂–∏—Ç "—Å–¥—ç–∫", "cdek", "–¥–æ—Å—Ç–∞–≤–∫–∞" ‚Üí —Ç–∏–ø 'cdek'

3. **–î–∞–Ω–Ω—ã–µ –°–î–≠–ö:**
   - –ï—Å—Ç—å `_cdek_point_code` –∏ `_cdek_point_data` ‚Üí —Ç–∏–ø 'cdek'

4. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** —Ç–∏–ø 'standard' (–æ–±—ã—á–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞)

## –†–∞–∑–ª–∏—á–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö email

### HTML email
- –ö—Ä–∞—Å–∏–≤—ã–µ —Ü–≤–µ—Ç–Ω—ã–µ –±–ª–æ–∫–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏
- –¢–∞–±–ª–∏—Ü—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∞–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

### –¢–µ–∫—Å—Ç–æ–≤—ã–π email
- –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –∏–∑ —Å–∏–º–≤–æ–ª–æ–≤ "="
- –ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

## –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ

–í –∞–¥–º–∏–Ω–∫–µ –∑–∞–∫–∞–∑–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω —Ü–≤–µ—Ç–Ω–æ–π –±–ª–æ–∫ —Å —Ç–∏–ø–æ–º –¥–æ—Å—Ç–∞–≤–∫–∏:

- **üó£Ô∏è –ñ–µ–ª—Ç—ã–π –±–ª–æ–∫** –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
- **üè™ –°–∏–Ω–∏–π –±–ª–æ–∫** –¥–ª—è —Å–∞–º–æ–≤—ã–≤–æ–∑–∞  
- **üì¶ –ó–µ–ª–µ–Ω—ã–π –±–ª–æ–∫** –¥–ª—è –°–î–≠–ö –¥–æ—Å—Ç–∞–≤–∫–∏

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ö–æ–¥ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å:
- WooCommerce 8.0+
- WordPress 5.0+
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏ –°–î–≠–ö
- –ë–ª–æ—á–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `cdek_determine_delivery_type()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- `cdek_add_delivery_info_to_any_email()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ email
- `cdek_save_discuss_delivery_choice()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- `cdek_show_discuss_delivery_admin()` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ

### –ú–µ—Ç–∞-–ø–æ–ª—è –∑–∞–∫–∞–∑–∞:

- `_discuss_delivery_selected` - –≤—ã–±–æ—Ä –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
- `_pickup_delivery_selected` - –≤—ã–±–æ—Ä —Å–∞–º–æ–≤—ã–≤–æ–∑–∞
- `_cdek_delivery_selected` - –≤—ã–±–æ—Ä –°–î–≠–ö –¥–æ—Å—Ç–∞–≤–∫–∏
- `_cdek_point_code` - –∫–æ–¥ –ø—É–Ω–∫—Ç–∞ –°–î–≠–ö
- `_cdek_point_data` - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç–∞ –°–î–≠–ö

## –û—Ç–ª–∞–¥–∫–∞

–§—É–Ω–∫—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ª–æ–≥ WordPress:

```php
error_log('–°–î–≠–ö: –°–æ—Ö—Ä–∞–Ω–µ–Ω –≤—ã–±–æ—Ä "–°–∞–º–æ–≤—ã–≤–æ–∑" –¥–ª—è –∑–∞–∫–∞–∑–∞ #' . $order_id);
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –≤–∫–ª—é—á–∏—Ç–µ –æ—Ç–ª–∞–¥–∫—É –≤ `wp-config.php`:

```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ email –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `functions.php`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ WordPress –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏