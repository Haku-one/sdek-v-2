# –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ textarea –ø–æ–ª–µ–π –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏

## –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ **—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ** —Å–∫—Ä—ã—Ç—ã—Ö textarea –ø–æ–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏:
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ "–î–æ—Å—Ç–∞–≤–∫–∞ —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º" ‚Üí –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ç–µ–∫—Å—Ç–æ–º "–î–æ—Å—Ç–∞–≤–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º"
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –°–î–≠–ö ‚Üí –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–µ –°–î–≠–ö —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ, —Ü–µ–Ω–µ –∏ –ø—É–Ω–∫—Ç–µ –≤—ã–¥–∞—á–∏

**‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:** –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –≤—ã–∑–æ–≤—ã API, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏ —Ç—ã—Å—è—á–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏.

**–í–∞–∂–Ω–æ:** –î–∞–Ω–Ω—ã–µ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞—à–∏–º –∫–æ–¥–æ–º - –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–ª–∞–≥–∏–Ω–æ–º —Ñ–æ—Ä–º.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª–µ–π
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ textarea –ø–æ–ª—è —Å –∫–ª–∞—Å—Å–∞–º–∏:
```html
<div class="wp-block-checkout-fields-for-blocks-textarea sdek">
    <label for="87421bf6-0900-47cb-8c83-228d9681b97c">–î–æ—Å—Ç–∞–≤–∫–∞</label>
    <textarea class="wc-block-components-textarea" placeholder="–°–¥—ç–∫" rows="2"></textarea>
</div>

<div class="wp-block-checkout-fields-for-blocks-textarea manag">
    <label for="87421bf6-0900-47cb-8c83-228d9681b97c">–ú–µ–Ω–µ–¥–∂–µ—Ä</label>
    <textarea class="wc-block-components-textarea" placeholder="–û–±—Å—É–¥–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º" rows="2"></textarea>
</div>
```

–ü–æ–ª—è —Å–∫—Ä—ã—Ç—ã —á–µ—Ä–µ–∑ CSS:
```css
.wp-block-checkout-fields-for-blocks-textarea {
    opacity: 0;
    height: 0;
}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π
1. **JavaScript –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç** –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–∞—Ö –¥–æ—Å—Ç–∞–≤–∫–∏
2. **–ü—Ä–∏ –≤—ã–±–æ—Ä–µ "–û–±—Å—É–¥–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º":**
   - –û—á–∏—â–∞–µ—Ç—Å—è –ø–æ–ª–µ –°–î–≠–ö (`.sdek textarea`)
   - –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (`.manag textarea`) —Ç–µ–∫—Å—Ç–æ–º "–î–æ—Å—Ç–∞–≤–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º"

3. **–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –°–î–≠–ö –¥–æ—Å—Ç–∞–≤–∫–∏:**
   - –û—á–∏—â–∞–µ—Ç—Å—è –ø–æ–ª–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (`.manag textarea`)
   - –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–µ –°–î–≠–ö (`.sdek textarea`) –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
     - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
     - –¶–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
     - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø—É–Ω–∫—Ç–µ –≤—ã–¥–∞—á–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª—è –°–î–≠–ö
```
–°–î–≠–ö –î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –ø—É–Ω–∫—Ç–∞ –≤—ã–¥–∞—á–∏ - 250 —Ä—É–±.
–ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏: –°–î–≠–ö –Ω–∞ –ù–µ–≤—Å–∫–æ–º
–ê–¥—Ä–µ—Å: –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ù–µ–≤—Å–∫–∏–π –ø—Ä-—Ç, 100
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã
- `assets/js/textarea-auto-fill.js` - JavaScript –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è textarea –ø–æ–ª–µ–π
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ `cdek-delivery-plugin.php`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `cdek-delivery.js`

### JavaScript —Ñ—É–Ω–∫—Ü–∏–∏
- `fillTextareaFields(deliveryType, deliveryInfo)` - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- `getCurrentDeliveryType()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ç–∏–ø–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- `getDeliveryInfo()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç–∞–≤–∫–µ –∏–∑ –±–ª–æ–∫–∞
- `getSelectedCdekPoint()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø—É–Ω–∫—Ç–µ –°–î–≠–ö
- `updateTextareaFields()` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª–µ–π

### –°–æ–±—ã—Ç–∏—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–∫–∞—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏
- –ö–ª–∏–∫–∏ –ø–æ –≤–∫–ª–∞–¥–∫–∞–º –¥–æ—Å—Ç–∞–≤–∫–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ–∫–∞—É—Ç–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–ª–æ–∫–µ –¥–æ—Å—Ç–∞–≤–∫–∏ (MutationObserver)
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ localStorage –¥–ª—è –ø—É–Ω–∫—Ç–æ–≤ –°–î–≠–ö

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º
–í `cdek-delivery.js` –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã:
```javascript
// –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
if (typeof window.fillTextareaFields === 'function') {
    window.fillTextareaFields('manager');
}

// –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –°–î–≠–ö
if (typeof window.updateTextareaFields === 'function') {
    setTimeout(() => {
        window.updateTextareaFields();
    }, 500);
}
```

## –û—Ç–ª–∞–¥–∫–∞
–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å:
1. **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** - –ª–æ–≥–∏ JavaScript —Å —ç–º–æ–¥–∑–∏:
   - üîß –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
   - üìù –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π
   - üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π
   - üëÅÔ∏è –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ DOM

2. **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
   ```javascript
   window.updateTextareaFields()
   window.fillTextareaFields('manager')
   window.fillTextareaFields('cdek', {label: 'Test', price: '100 —Ä—É–±.'})
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–µ–π:**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–ª–µ–π
   $('.wp-block-checkout-fields-for-blocks-textarea.sdek textarea').val()
   $('.wp-block-checkout-fields-for-blocks-textarea.manag textarea').val()
   ```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- WooCommerce 8.0+
- WordPress 5.0+
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –±–ª–æ—á–Ω—ã–º —á–µ–∫–∞—É—Ç–æ–º
- –¢—Ä–µ–±—É–µ—Ç jQuery

## –ß—Ç–æ –ù–ï –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥
- ‚ùå –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚ùå –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∞–¥–º–∏–Ω–∫–µ –∏–ª–∏ email
- ‚ùå –ù–ï —Å–æ–∑–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥
- ‚úÖ –¢–æ–ª—å–∫–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ textarea –ø–æ–ª—è
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–ø–æ—Å–æ–±–∞—Ö –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –°–î–≠–ö

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∫–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ) –¥–µ–ª–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–ª–∞–≥–∏–Ω —Ñ–æ—Ä–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.