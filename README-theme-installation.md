# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –°–î–≠–ö email —à–∞–±–ª–æ–Ω–æ–≤ –≤ —Ç–µ–º—É

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –≤–∞—à–µ–π —Ç–µ–º–µ:

```
hello-elementor/                    # –í–∞—à–∞ —Ç–µ–º–∞
‚îú‚îÄ‚îÄ functions.php                   # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Ñ—É–Ω–∫—Ü–∏–π —Ç–µ–º—ã
‚îú‚îÄ‚îÄ woocommerce/                    # –ü–∞–ø–∫–∞ WooCommerce —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ emails/                     # –ü–∞–ø–∫–∞ email —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ admin-new-order.php     # Email –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚îÇ       ‚îî‚îÄ‚îÄ customer-completed-order.php  # Email –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
```

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –≤ —Ç–µ–º—É

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `functions.php` –≤–∞—à–µ–π —Ç–µ–º—ã**
   - –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/wp-content/themes/your-theme/functions.php`

2. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–¥ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞** (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ `theme-functions-cdek.php`)

```php
<?php
// ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ functions.php ...

// –°–î–≠–ö: –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π
// –í—Å—Ç–∞–≤—å—Ç–µ –∑–¥–µ—Å—å –≤–µ—Å—å –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ theme-functions-cdek.php
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ –¥–ª—è email —à–∞–±–ª–æ–Ω–æ–≤

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `woocommerce` –≤ –≤–∞—à–µ–π —Ç–µ–º–µ** (–µ—Å–ª–∏ –µ—ë –Ω–µ—Ç)
2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `emails` –≤–Ω—É—Ç—Ä–∏ `woocommerce`**

```bash
wp-content/themes/your-theme/woocommerce/emails/
```

### –®–∞–≥ 3: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ email —à–∞–±–ª–æ–Ω–æ–≤

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `admin-new-order.php`** –≤ –ø–∞–ø–∫—É `/wp-content/themes/your-theme/woocommerce/emails/`

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `customer-completed-order.php`** –≤ –ø–∞–ø–∫—É `/wp-content/themes/your-theme/woocommerce/emails/`

## üìß –¢–∏–ø—ã email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **–§–∞–π–ª:** `admin-new-order.php`
- **–ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:** –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:** –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ –°–î–≠–ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–∞

### –î–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
- **–§–∞–π–ª:** `customer-completed-order.php`  
- **–ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:** –ö–æ–≥–¥–∞ –∑–∞–∫–∞–∑ –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ "–í—ã–ø–æ–ª–Ω–µ–Ω"
- **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:** –ö—Ä–∞—Å–∏–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –≤ –ü–í–ó

## üé® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –±–ª–æ–∫–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ email:

### customer-processing-order.php
```php
// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–∫–∞–∑–∞
// –ö–æ–ø–∏—Ä—É–π—Ç–µ –±–ª–æ–∫ –°–î–≠–ö –∏–∑ customer-completed-order.php
```

### customer-on-hold-order.php
```php
// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ –∑–∞–∫–∞–∑–∞ –≤ —Å—Ç–∞—Ç—É—Å "–ù–∞ —É–¥–µ—Ä–∂–∞–Ω–∏–∏"
// –ö–æ–ø–∏—Ä—É–π—Ç–µ –±–ª–æ–∫ –°–î–≠–ö –∏–∑ customer-completed-order.php
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –í functions.php –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

```php
// –û—Ç–∫–ª—é—á–∏—Ç—å –°–î–≠–ö –±–ª–æ–∫ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö email
add_filter('cdek_show_in_email', function($show, $email_id) {
    if ($email_id === 'customer_invoice') {
        return false; // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Å—á–µ—Ç–µ
    }
    return $show;
}, 10, 2);

// –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª–∏ –±–ª–æ–∫–∞ –°–î–≠–ö
add_filter('cdek_email_styles', function($styles) {
    $styles['background'] = '#f0f8ff';
    $styles['border_color'] = '#007cba';
    return $styles;
});
```

## üõ†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –¢–µ—Å—Ç email —à–∞–±–ª–æ–Ω–æ–≤

1. **–û—Ñ–æ—Ä–º–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑** —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –°–î–≠–ö
2. **–°–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞** –Ω–∞ "–í—ã–ø–æ–ª–Ω–µ–Ω" –≤ –∞–¥–º–∏–Ω–∫–µ
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É** - –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –±–ª–æ–∫–æ–º –°–î–≠–ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π –∑–∞–∫–∞–∑** —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –°–î–≠–ö –≤ –∞–¥–º–∏–Ω–∫–µ
2. **–ù–∞–π–¥–∏—Ç–µ –±–ª–æ–∫** "üì¶ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ –°–î–≠–ö"
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É** "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é"

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –®–∞–±–ª–æ–Ω—ã –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º:**
   ```
   /wp-content/themes/–≤–∞—à–∞-—Ç–µ–º–∞/woocommerce/emails/admin-new-order.php
   ```

2. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à** —Ç–µ–º—ã –∏ –ø–ª–∞–≥–∏–Ω–æ–≤

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã:** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 644

### –ë–ª–æ–∫ –°–î–≠–ö –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ functions.php**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–∫–∞–∑ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –°–î–≠–ö**
3. **–í–∫–ª—é—á–∏—Ç–µ –æ—Ç–ª–∞–¥–∫—É WordPress** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—à–∏–±–æ–∫

### –°—Ç–∏–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ CSS —Å—Ç–∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ —à–∞–±–ª–æ–Ω**
2. **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ email –∫–ª–∏–µ–Ω—Ç—ã** –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Å—Ç–∏–ª–∏
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ inline —Å—Ç–∏–ª–∏** (–∫–∞–∫ –≤ –Ω–∞—à–∏—Ö —à–∞–±–ª–æ–Ω–∞—Ö)

## üì± –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å email –∫–ª–∏–µ–Ω—Ç–∞–º–∏

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤:
- Gmail (–≤–µ–±, –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- Outlook (–≤–µ–±, –¥–µ—Å–∫—Ç–æ–ø)
- Apple Mail (macOS, iOS)
- –Ø–Ω–¥–µ–∫—Å.–ü–æ—á—Ç–∞
- Mail.ru

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ Outlook –º–æ–≥—É—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ CSS —Å–≤–æ–π—Å—Ç–≤–∞
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –±–ª–æ–∫–∏—Ä—É—é—Ç —Ñ–æ–Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –≠–º–æ–¥–∑–∏ –º–æ–≥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ WooCommerce:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é —à–∞–±–ª–æ–Ω–æ–≤** –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö —Ñ–∞–π–ª–æ–≤
2. **–°—Ä–∞–≤–Ω–∏—Ç–µ —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º–∏** —à–∞–±–ª–æ–Ω–∞–º–∏ WooCommerce
3. **–û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏**, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –±–ª–æ–∫–∏ –°–î–≠–ö

## üìã –ß–µ–∫-–ª–∏—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- [ ] –ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ functions.php
- [ ] –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ woocommerce/emails/
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω admin-new-order.php
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω customer-completed-order.php
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω email –ø–æ–∫—É–ø–∞—Ç–µ–ª—é
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –±–ª–æ–∫ –≤ –∞–¥–º–∏–Ω–∫–µ –∑–∞–∫–∞–∑–∞
- [ ] –û—á–∏—â–µ–Ω –∫–µ—à —Ç–µ–º—ã

## üÜò –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```php
// –í functions.php –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
add_action('cdek_email_debug', function($message, $data) {
    error_log("–°–î–≠–ö Email: $message " . print_r($data, true));
}, 10, 2);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞
```php
// –í –∞–¥–º–∏–Ω–∫–µ –∑–∞–∫–∞–∑–∞ –¥–æ–±–∞–≤—å—Ç–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
$cdek_data = get_cdek_delivery_info($order_id);
var_dump($cdek_data); // –í—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
```

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email
```php
// –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
$order = wc_get_order($order_id);
WC()->mailer()->get_emails()['WC_Email_Customer_Completed_Order']->trigger($order_id);
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

1. **üìß –ö—Ä–∞—Å–∏–≤—ã–µ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –¥–æ—Å—Ç–∞–≤–∫–µ –°–î–≠–ö
2. **üîß –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –±–ª–æ–∫ –≤ –∞–¥–º–∏–Ω–∫–µ** –∑–∞–∫–∞–∑–∞
3. **üìã –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞** –∫ –¥–∞–Ω–Ω—ã–º –¥–æ—Å—Ç–∞–≤–∫–∏
4. **üé® –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å—Ç–∏–ª–∏** –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
5. **üì± –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å–æ –≤—Å–µ–º–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ email –∫–ª–∏–µ–Ω—Ç–∞–º–∏

**–í–∞—à–∏ –∫–ª–∏–µ–Ω—Ç—ã –±—É–¥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –≤ –ø—É–Ω–∫—Ç–µ –≤—ã–¥–∞—á–∏ –°–î–≠–ö!** üéâ